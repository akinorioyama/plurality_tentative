{% macro renderNav(leftData, centreData, rightData) %}

  <div id="nav">
    {% if leftData %}
      <div id="nav-left">
        {% for item in leftData %}
          {% if item.icon %}
            <a href="{{ item.path }}"><img src="{{ item.imgpath }}" height="32" width="273"></a>
          {% elif item.external %}
            <a target="_blank" href="{{ item.path }}" class="top-nav-item">{{ item.title }} &#8599;&#xFE0E;</a>
          {% elif item.return %}
            <a href="{{ item.path }}" class="top-nav-item">{{ item.title }} &#x2715;&#xFE0E;</a>
          {% else %}
            <a href="{{ item.path }}" class="top-nav-item">{{ item.title }}</a>
          {% endif %}
        {% endfor %}
      </div>
    {% endif %}
    {% if centreData %}
    {% endif %}
    {% if rightData %}
      <div id="nav-right">
        {% for item in rightData %}
          {% if item.external %}
            <a target="_blank" href="{{ item.path }}" class="top-nav-item">{{ item.title }} &#8599;&#xFE0E;</a>
          {% elif item.return %}
            <a href="{{ item.path }}" class="top-nav-item">{{ item.title }} &#x2715;&#xFE0E;</a>
          {% else %}
            <a href="{{ item.path }}" class="top-nav-item">{{ item.title }}</a>
          {% endif %}
        {% endfor %}
          <style>
            #nav-popup > a > link {
              background-color: rgba(255, 255, 255, 0.2);
              color: white;
            }
            #nav-popup > div > a {
              /*background-color: rgba(255, 255, 255, 0);*/
              color: white;
              width:180px;
              right:180px;
            }
            #nav-popup > div {
              /*background-color: rgba(255, 255, 255, 0.2);*/
              color: black;
              top: 5%;
            }
            #nav-popup  {
              background-color: rgba(255, 255, 255, 0.2);
              width:180px;
              padding: 24px;
              border-radius: 10px;
              border: 5px

            }
            #nav-language > div {
              display: flex;
            }

          </style>
         <div id="nav-language" style="margin-top:-8px;font-size: 24px;">&#x1F310
          <div id="nav-popup" style="position: absolute;display: none;right: 0px;font-size: 18px;">
            <div><a href="../eng">English</a></div>
            <div><a href="../zh-tw">Tranditional Mandarin</a></div>
            <div><a href="../ja-jp">Japanese</a></div>
          </div>
        </div>
        <script>
          const languageLogo = document.getElementById("nav-language");
          const navPopup = document.getElementById("nav-popup");

          languageLogo.addEventListener("click", () => {
            if (navPopup.style.display == "block"){
              navPopup.style.display = "none";
            } else {
              navPopup.style.display = "block";
            }
          });

          languageLogo.addEventListener("mouseout", () => {
            const setData = () => {
              const divs = liveLogo.querySelectorAll("div");
              navPopup.style.display = "none;"
            }
            setTimeout(setData,5*1000);
          });
        </script>
    </div>
      </div>
    {% endif %}
{% endmacro %}